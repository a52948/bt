<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title></title>
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <meta name="description" content="">
    <meta name="author" content="binux">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.21/vue.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue-resource/0.7.0/vue-resource.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/0.7.13/vue-router.min.js"></script>
    <script src="https://cdn.jsdelivr.net/webtorrent/latest/webtorrent.min.js"></script>
  </head>

  <body>

    <div id='app'>
      <h1><a v-link="{ path: '/' }">{{ glob }}</a></h1>
      <hr>
      <router-view></router-view>
    </div>

    <script type="x/template" id="filelist-template">
      <ul>
        <li v-for="file in files">
          <a v-link="{ name: 'video', params: { infohash: file.infoHash } }">{{ file.name }}</a>
        </li>
      </ul>
    </script>

    <script type="x/template" id="video-template">
      <p v-show="torrent===null">
        infohash: {{ $route.params.infohash }}
        grabing meta...
      </p>
      <div v-show="torrent">
      <dl>
        <dt>infoHash</dt>
        <dd><a href="{{ torrent.magnetURI }}">{{ torrent.infoHash }}</a></dd>

        <dt>downloaded</dt>
        <dd>{{ torrent.downloaded | smart-file-size }}@{{ downloadSpeed | smart-file-size }}/s FROM {{ torrent.numPeers }}conn ({{ (torrent.progress * 100).toFixed(1) }}%)</dd>

        <dt>timeRemaining</dt>
        <dd>{{ (timeRemaining / 1000).toFixed(0) }}s</dd>

        <dt>uploaded</dt>
        <dd>{{ torrent.uploaded | smart-file-size }}@{{ uploadSpeed | smart-file-size }}/s</dd>

        <div id=video-view></div>
      </div>
    </script>

    <script src="index.js"></script>
  </body>
</html>
<!-- vim: set et sw=2 ts=2 sts=2 ff=unix fenc=utf8: -->

